---
layout: page
title: "제21대 국회의원 선거"
subtitle: "성남시 분당구 - 공간정도 시각화"
author:
    name: xwMOOC
date: "`r Sys.Date()`"
output:
  html_document: 
    toc: yes
    toc_float: true
    highlight: tango
    code_folding: hide
    number_section: true
    self_contained: true
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message=FALSE, warning=FALSE,
                      comment="", digits = 3, tidy = FALSE, prompt = FALSE, fig.align = 'center')
```

# 기초 데이터 {#eleciton-data}

## 분당 득표 및 지도 데이터 {#major-election-import-data}

앞서 작업한 분당지역 득표 데이터와 지도 데이터를 함께 가져와서 후속 작업을 준비한다.

```{r bundang-voting-data}
library(tidyverse)
library(sf)

## 분당 득표 데이터
`분당_df` <- read_rds("data/분당_df.rds")
## 분당 지도 데이터
sungnam_sf <- st_read("data/shapefile/sungnam/sungnam_sf.shp",  options = "ENCODING=UTF-8")
```

## 득표 지도 데이터 병합 {#major-election-import-data}

앞서 작업한 분당지역 득표 데이터와 지도 데이터를 함께 가져와서 후속 작업을 준비한다.

```{r bundang-voting-data-merge}
## 데이터 병합
`분당_2018_df` <- `분당_df` %>% 
  filter(str_detect(`선거`, "2018")) %>% 
  rename(EMD_KOR_NM = `읍면동명`) %>% 
  select(-`선거`)

bundang_sf <- left_join(sungnam_sf, `분당_2018_df`, by="EMD_KOR_NM") %>% 
  filter(!is.na(`민주당`))
```


# 득표 시각화 {#eleciton-data-viz}

## 지선(2018) 분당구 {#bundang-2018}


```{r bundang-voting-2018}
bundang_sf %>% 
  ggplot(aes(fill=`민주당`)) +
    geom_sf()

```


